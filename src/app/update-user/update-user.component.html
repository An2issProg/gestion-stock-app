<div class="container mx-auto mt-4 px-4">
  <h3 class="text-center text-2xl font-semibold mb-4">Mettre à jour l'utilisateur</h3>

  <form [formGroup]="updateUserForm" (ngSubmit)="onSubmit()">
    <!-- Username Field -->
    <div class="mb-4">
      <label for="username" class="block text-sm font-medium text-gray-700">Nom d'utilisateur</label>
      <input
        id="username"
        formControlName="username"
        placeholder="Nom d'utilisateur"
        class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-900"
      />
      <div
        *ngIf="updateUserForm.get('username')?.invalid && updateUserForm.get('username')?.touched"
        class="text-red-500 text-sm mt-1"
      >
        Nom d'utilisateur est requis
      </div>
    </div>

    <!-- Email Field -->
    <div class="mb-4">
      <label for="email" class="block text-sm font-medium text-gray-700">Email :</label>
      <input
        id="email"
        formControlName="email"
        placeholder="email"
        type="email"
        class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-900"
      />
      <div
        *ngIf="updateUserForm.get('email')?.invalid && updateUserForm.get('email')?.touched"
        class="text-red-500 text-sm mt-1"
      >
        Un email valide est requis
      </div>
    </div>

    <!-- Role Field -->
    <div class="mb-4">
      <label for="role" class="block text-sm font-medium text-gray-700">Role</label>
      <select
        id="role"
        formControlName="role"
        class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-900"
      >
        <option value="admin">Admin</option>
        <option value="user">User</option>
        <option value="moderator">Moderator</option>
      </select>
      <div
        *ngIf="updateUserForm.get('role')?.invalid && updateUserForm.get('role')?.touched"
        class="text-red-500 text-sm mt-1"
      >
        Le rôle est requis
      </div>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      [disabled]="loading || updateUserForm.invalid"
      class="w-full bg-blue-600 text-white font-semibold py-2 px-4 rounded-md shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"
    >
      {{ loading ? 'Mise à jour ...' : 'Mettre à jour' }}
    </button>

    <!-- Error Message -->
    <div
      *ngIf="errorMessage"
      class="mt-3 p-4 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md"
    >
      {{ errorMessage }}
    </div>
  </form>
</div>
